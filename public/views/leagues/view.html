<section data-ng-controller='LeaguesController' data-ng-init='findOne()'>
    <h1>{{league.name}}</h1>

    <div class='text-center' ng-if='agents === undefined'>
        <div><img src='/img/bar-loader.gif' width='300px'/></div>
        <div>Loading</div>
    </div>

    <div class='panel panel-info' ng-if='agents !== undefined'>
        <div class='panel-heading'>Current Standings</div>
        <div class='panel-body'>
            <div class='row'>
                <div class='col-lg-8'>
                    <div chart data='chartData' options='chartOptions'
                        style='width: 100%; height: 300px'></div>

                </div>
                <div class='col-lg-4'>
                    <div class='row form-group'>
                        <label class='control-label col-lg-6'>
                            Y-Axis Upper Limit =
                            {{leaguechart_lims.upper | currency}}
                        </label>
                        <div class='col-lg-6'>
                            <div class='btn-group'>
                                <a class='btn btn-primary'
                                    ng-click='leagueChartYMove("upper", "order", 1)'>
                                    --
                                </a>
                                <a class='btn btn-primary'
                                    ng-click='leagueChartYMove("upper", "value", 1)'>
                                    -
                                </a>
                                <a class='btn btn-success'
                                    ng-click='leagueChartYMove("upper", "value", -1)'>
                                    +
                                </a>
                                <a class='btn btn-success'
                                    ng-click='leagueChartYMove("upper", "order", -1)'>
                                    ++
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class='row form-group'>
                        <label class='control-label col-lg-6'>
                            Y-Axis Lower Limit =
                            {{leaguechart_lims.lower | currency}}
                        </label>
                        <div class='col-lg-6'>
                            <div class='btn-group'>
                                <a class='btn btn-primary'
                                    ng-click='leagueChartYMove("lower", "order", 1)'>
                                    --
                                </a>
                                <a class='btn btn-primary'
                                    ng-click='leagueChartYMove("lower", "value", 1)'>
                                    -
                                </a>
                                <a class='btn btn-success'
                                    ng-click='leagueChartYMove("lower", "value", -1)'>
                                    +
                                </a>
                                <a class='btn btn-success'
                                    ng-click='leagueChartYMove("lower", "order", -1)'>
                                    ++
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div ng-if='agents !== undefined'>
        <agent-list></agent-list>
    </div>

    <a class='btn btn-primary' href='/#!/leagues/'>Back to Leagues List</a>
    <a class='btn btn-default' href='/#!/histories'>
        View Tradeable Securities
    </a>
    <div class='btn-group'>
        <a class='btn btn-warning' href='/#!/leagues/{{league._id}}/edit'
            data-ng-show='global.user.isAdmin'>Edit League</a>
        <a class='btn btn-warning' data-ng-click='remove(league)'
            data-ng-show='global.user.isAdmin'>Delete League</a>
    </div>

    <br class='clear-fix' /><br />

</section>
